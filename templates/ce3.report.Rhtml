<!DOCTYPE html>
<html>
  <head>
    <title>CE3 Report</title>
    <style>
      * {
      font-family: ‘Lucida Console’, Monaco, monospace;
      background-color:#F6F6F6;
      }
      body {
      max-width: 950px;
      margin: 0 auto;
      }
    </style>
  </head>
  <body>

    <hr>
    <h1 id="top">CE3 Calibration Report</h1>

    <hr>

    <h2 id="header">Calibration Header</h2>
    <ul>
      <li>id: <!--rinline doc[["_id"]] --></li>
      <li>Standard: <!--rinline a$cs --></li>
      <li>Sign: <!--rinline a$csi --></li>
      <li>Type: <!--rinline a$ct --></li>
      <li>Year: <!--rinline a$cy --></li>
    </ul>
    <ul>
      <li>Name: <!--rinline  a$cmco1$Name  --></li>
      <li>Type: <!--rinline  a$cmco1$Type  --></li>
      <li>Sign: <!--rinline  a$cmco1$Sign --></li>
    </ul>

    <hr>

    <ul>
      <li><a href="#cond">Conductance</a></li>
      <ul>
        <li><a href="#condCnom">C<sub>nom</sub></a></li>
      </ul>
      <li><a href="#temp">Temperatures</a></li>
      <li><a href="#pres">Pressures</a></li>
    </ul>

    <hr>

    <h2 id="cond">Conductance
      <sup><a href="#top">^</a></sup></h2>
    <!--begin.rcode
        withU     <- FALSE
        cnom           <- getConstVal(a$cav$Conductance, "cnom")
	sdcnom         <- getConstVal(a$cav$Conductance, "sd_cnom")
        cfm3           <- getConstVal(a$cav$Conductance, "cfm3")
        diffhist       <- getConstVal(a$cav$Conductance, "diff_hist")

        iout <- which((abs(diffhist) > 0.5) | cnom < 1e-8 | is.na(cfm3))
        skipVals <- length(iout) > 0

        if(length( a$cav$Uncertainty) > 0){
        withU     <- TRUE
        uDV       <- getConstVal(a$cav$Uncertainty, "uncertDeltaV")
        uDVDt     <- getConstVal(a$cav$Uncertainty, "uncertDeltaVDeltat")
        uDt       <- getConstVal(a$cav$Uncertainty, "uncertDeltat")
        }

        if(skipVals){
        iout
        cnom      <-  cnom[-iout]
        sdcnom    <-  sdcnom[-iout]
        cfm3      <-  cfm3[-iout]
        diffhist  <-  diffhist[-iout]
        if(withU){
        uDV      <-   uDV[-iout]
        uDVDt    <-   uDVDt[-iout]
        uDt      <-   uDt[-iout]
        }
        }
	N <- length(cnom)
        end.rcode-->
    <h3 id="condCnom">C<sub>nom</sub>
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode
	qplot(1:N, 
	cnom, 
	log  = "xy", 
	xlab = "Messpkt.", 
	ylab = paste("C in", getSubList(a$cav$Conductance, "cnom")$Unit))
	end.rcode-->

    <h3 id="condSum">Conductance Summary
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode
        format(data.frame(sdcnom/cnom), scientific=TRUE)
        end.rcode-->

    <!--begin.rcode
        format(data.frame(cfm3/cnom -1), scientific=TRUE)
        end.rcode-->

    <!--begin.rcode
        format(data.frame((uDV^2 +uDt^2 +uDVDt^2)^.5), scientific=TRUE)
        end.rcode-->

    <h3 id="condDiag">Conductance Diagram
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode conductance-plot, echo=FALSE
        pltc
        end.rcode-->

    <h2 id="temp">Temperatures
      <sup><a href="#top">^</a></sup></h2>
    <!--begin.rcode
        source("../chunks/ce3.temperature.R")
        N
        iout
        end.rcode-->
    <h3 id="tempTab">Table
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode
        format(df.temperature)
        end.rcode-->

    <h3 id="tempSum">Summary
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode

        summary(Tpbox)
        end.rcode-->

    <!--begin.rcode
        summary(Troom)
        end.rcode-->

    <!--begin.rcode
        summary(Txhv)
        end.rcode-->

    <!--begin.rcode
        summary(Tuhv)
        end.rcode-->

    <!--begin.rcode
        summary(Tfm3)
        end.rcode-->

    <h3 id="tempDiag" >Diagram
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode temperature-plot, echo=TRUE
        plt
        end.rcode-->

    <h2 id="pres">Pressures
      <sup><a href="#top">^</a></sup></h2>
    <!--begin.rcode
        source("../chunks/ce3.pressure.R")
        N
        iout
        end.rcode-->
    <h3 id="presTab">Pressure Table
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode

        format(df.pressure.fill.offs, scientific=TRUE, digits=5)
        format(df.pressure.fill, scientific=TRUE, digits=5)
        format(df.pressure.cal, scientific=TRUE, digits=5)
        end.rcode-->

    <h3 id="presSum">Pressure Summary
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode

        format(data.frame(pfill.offset/pfill), scientific=TRUE)

        format(data.frame(pdpC/pfill), scientific=TRUE)

        format(data.frame(pfill/plw -1), scientific=TRUE)

        format(data.frame(pcorrind/pcal - 1), scientific=TRUE)

        end.rcode-->

    <h3 id="presDiag">Pressure Diagram
      <sup><a href="#top">^</a></sup></h3>
    <!--begin.rcode  pfill-plot, echo=FALSE
        pltfill
        end.rcode-->

    <!--begin.rcode  pfilloffset-plot, echo=FALSE
        pltfilloffs
        end.rcode-->

    <!--begin.rcode  pcal-plot, echo=FALSE
        pltcal
        end.rcode-->


  </body>
</html>
